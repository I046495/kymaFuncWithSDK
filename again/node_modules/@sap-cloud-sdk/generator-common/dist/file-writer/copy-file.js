"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.copyFiles = exports.copyFile = void 0;
const fs_1 = require("fs");
const path_1 = require("path");
const util_1 = require("@sap-cloud-sdk/util");
const { copyFile: fsCopyFile } = fs_1.promises;
const logger = (0, util_1.createLogger)('generator-common');
/**
 * Copy a file from a given path.
 * @param src - Path to the source file.
 * @param dest - Path to the destination file
 * @param overwrite - Whether or not existing files should be overwritten.
 * @internal
 */
async function copyFile(src, dest, overwrite = false) {
    if (!overwrite && (0, fs_1.existsSync)(dest)) {
        return;
    }
    return fsCopyFile(src, dest);
}
exports.copyFile = copyFile;
/**
 * @param files - List of files to be copied
 * @param dest - Path to where the files are copied
 * @param overwrite - Overwrite flag
 * @internal
 */
async function copyFiles(files, dest, overwrite) {
    logger.verbose(`Copying additional files ${files} into ${dest}.`);
    return Promise.all(files.map(filePath => copyFile((0, path_1.resolve)(filePath), (0, path_1.join)(dest, (0, path_1.basename)(filePath)), overwrite)));
}
exports.copyFiles = copyFiles;
//# sourceMappingURL=copy-file.js.map