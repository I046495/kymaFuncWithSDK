import { JwtPayload } from '../jsonwebtoken-type';
import { Service } from '../environment-accessor/environment-accessor-types';
import { CachingOptions } from '../cache';
import { Destination } from './destination-service-types';
import type { DestinationFetchOptions } from './destination-accessor-types';
/**
 * @deprecated Since v3.4.0. Use either `ServiceBindingTransformOptions` or `getDestinationFromServiceBinding`.
 * Represents partial options to fetch destinations.
 */
export type PartialDestinationFetchOptions = {
    /**
     * The JWT used to fetch destinations.
     * The use of `JwtPayload` is deprecated since v3.4.0 and will be removed in the next major version update.
     * Use `string` instead.
     */
    jwt?: JwtPayload;
} & CachingOptions;
/**
 * Tries to build a destination from a service binding with the given name.
 * Throws an error if no services are bound at all, no service with the given name can be found, or the service type is not supported.
 * The last error can be circumvent by using the second parameter to provide a custom function that transforms a service binding to a destination.
 * @param options - Options to customize the behavior of this function.
 * @returns A destination.
 */
export declare function getDestinationFromServiceBinding(options: Pick<DestinationFetchOptions, 'jwt' | 'iss' | 'useCache' | 'destinationName'> & DestinationForServiceBindingOptions): Promise<Destination>;
/**
 * Tries to build a destination from a service binding with the given name.
 * Throws an error if no services are bound at all, no service with the given name can be found, or the service type is not supported.
 * The last error can be circumvent by using the second parameter to provide a custom function that transforms a service binding to a destination.
 * @param serviceInstanceName - The name of the service.
 * @param options - Options to customize the behavior of this function.
 * @returns A destination.
 * @deprecated Since v3.4.0. Use {@link getDestinationFromServiceBinding} instead.
 */
export declare function destinationForServiceBinding(serviceInstanceName: string, options?: DestinationForServiceBindingOptions & PartialDestinationFetchOptions): Promise<Destination>;
/**
 * Options to customize the behavior of {@link getDestinationFromServiceBinding}.
 */
export interface DestinationForServiceBindingOptions {
    /**
     * Custom transformation function to control how a {@link Destination} is built from the given {@link Service}.
     */
    serviceBindingTransformFn?: ServiceBindingTransformFunction;
}
/**
 * Represents options passed to the service binding transform function.
 */
export type ServiceBindingTransformOptions = {
    /**
     * The JWT payload used to fetch destinations.
     */
    jwt?: JwtPayload;
} & CachingOptions;
/**
 * Type of the function to transform the service binding.
 */
export type ServiceBindingTransformFunction = (service: Service, options?: ServiceBindingTransformOptions) => Promise<Destination>;
/**
 * @internal
 */
export declare function searchServiceBindingForDestination(options: DestinationFetchOptions & DestinationForServiceBindingOptions): Promise<Destination | null>;
