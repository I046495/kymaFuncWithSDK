"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.importBatchDeclarations = void 0;
const ts_morph_1 = require("ts-morph");
const util_1 = require("@sap-cloud-sdk/util");
const imports_1 = require("../imports");
/**
 * @internal
 */
function importBatchDeclarations(service) {
    return [
        (0, imports_1.odataImportDeclarationTsMorph)([
            'CreateRequestBuilder',
            'DeleteRequestBuilder',
            'DeSerializers',
            'GetAllRequestBuilder',
            'GetByKeyRequestBuilder',
            'ODataBatchRequestBuilder',
            'UpdateRequestBuilder',
            ...(service.operations.length ? ['OperationRequestBuilder'] : []),
            'BatchChangeSet'
        ], service.oDataVersion),
        {
            kind: ts_morph_1.StructureKind.ImportDeclaration,
            moduleSpecifier: '@sap-cloud-sdk/util',
            namedImports: ['transformVariadicArgumentToArray']
        },
        {
            kind: ts_morph_1.StructureKind.ImportDeclaration,
            moduleSpecifier: './index',
            namedImports: getNamedImports(service)
        }
    ];
}
exports.importBatchDeclarations = importBatchDeclarations;
function getNamedImports(service) {
    const complexReturnTypesOfActionImports = service.operations
        .filter(({ returnType }) => returnType.returnTypeCategory === 'complex-type')
        .map(withComplex => withComplex.returnType.returnType);
    return (0, util_1.unique)([
        ...service.entities.map(e => e.className),
        ...service.operations.map(f => f.parametersTypeName),
        ...complexReturnTypesOfActionImports
    ]);
}
//# sourceMappingURL=imports.js.map